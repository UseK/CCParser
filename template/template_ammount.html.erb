<html>
  <head>
    <meta charset="UTF-8">
    heatmap ammount
  </head>
  <body>
    <table border=3 bgcolor="#000000" cellspacing=3 cellpadding=0>
      <tr>
        <td>
          <table border=3 cellspacing=1 cellpadding=3>
            <tr bgcolor="white">
              <td></td>
              <% @file_description.package_list.each_value do |package_path| %>
                <td Valign="top"><%= package_path.gsub(/\//) {|matched| matched + "</br>"} %></td>
              <% end %>
              <td></td>
            </tr>
            <% @table.each_with_index do |row, idx_row| %>
              <tr bgcolor="black">
                <td bgcolor="white"><%= @file_description.package_list[idx_row.to_s] %></td>

                <% row.each_with_index do |cell, idx_colmn| %>
                  <% if cell.n_clone > 0 %>
                    <td align="right"
                      bgcolor=<%= cell.bgcolor_ammount @max_n_clone %>
                      title="<%= @file_description.package_list[idx_row.to_s] %> &#13;&#10; to &#13;&#10;<%= @file_description.package_list[idx_colmn.to_s]%>&#13;&#10;<%= cell.data_detail %>">
                      <font color=<%= cell.font_color_ammount @max_n_clone %>><%= cell.n_clone %></font>
                    </td>
                  <% end %>
                  <% if cell.n_clone < 0 && cell.n_clone > 0 %>
                    <td align="right"
                      title="<%= @file_description.package_list[idx_row.to_s] %> &#13;&#10; to &#13;&#10;<%= @file_description.package_list[idx_colmn.to_s]%>&#13;&#10;<%= cell.data_detail %>">
                      <font color="black"><%= cell.n_clone %></font>
                    </td>
                  <% end %>
                  <% if cell.n_clone <= 0 %>
                    <td></td>
                  <% end %>
                <% end %>
                <td bgcolor="white"><%= @file_description.package_list[idx_row.to_s] %></td>
              </tr>
            <% end %>
            <tr bgcolor="white">
              <td></td>
              <% @file_description.package_list.each_value do |package_path| %>
                <td Valign="top"><%= package_path.gsub(/\//) {|matched| matched + "</br>"} %></td>
              <% end %>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
